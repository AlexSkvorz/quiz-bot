# Quiz Bot
Основной функционал Telegram-бота заключается в проведении викторин 
## Установка ##
Для запуска бота нужен предустановленный Python версии 3.9
1. Скопируйте репозиторий в каталог
```bash
git clone https://github.com/AlexSkvorz/quiz-bot.git
```

2. Создайте два файла в папке config
* bot_config.py
* storage_config.py

3. Скопируйте в созданные файлы шаблоны из bot_config_template.py и storage_config_template.py соответственно

# Настройка приложения
Для работы с ботом необходимо получить токен. Это можно сделать через [BotFather](https://t.me/BotFather).
<br>Полученный токен необходимо вставить вместо 'bot_token' в созданном Вами файле - bot_config.py.

# Запуск приложения
Бота можно запустить следующими способами:
- ***Через консоль***
1. Перейдите в папку, которая содержит склонированный ранее репозиторий
2. Установите библиотеку pipenv
```bash
pip install pipenv --user
```
3. Активируйте виртуальное окружение, созданное с помощью pipenv. Воспользуйтесь командой:
```bash
pipenv shell
```
4. Запустите бота следующей командой:
```bash
pipenv run python main.py
```
- ***Через Docker***
1. Скачать Docker через [официальный сайт](https://www.docker.com/get-started/)
2. Создайте сборку проекта следующей командой:
```bash 
docker build -t 'your_folder'/quiz-bot .
```
3.Запустите сборку следующей командой:
```bash
docker run 'your_folder'/quiz-bot  
```
# Добавление вопросов для бота
Для загрузки вопросов в бота, необходимо обладать правами администратора. Для этого, после первого запуска программы, нужно открыть файл датабазы, 
найти таблицу users_table, и на пересечении строки, содержащей Ваш Id и имя, заменить значение ```user``` на ```admin``` в крайнем столбце. Сохраните Ваши изменения.
Теперь при повторном запуске будет доступна ещё одна кнопка - Добавить вопросы.
Вопросы для бота должны размещаться в .json файле. Образец вопроса представлен ниже:
```
        "quiz_id": 1,
        "topic": "Math",        
        "difficult": "easy",
        "question": "Сколько будет 2 + 2?",
        "answers":
        [
            "2",
            "4",
            "5",
            "6"
        ],
        "correct_answer": "4"
```
где quiz_id - id вопроса (должен быть уникальным), "topic" - тема вопроса, "difficult" - сложность вопроса, "question" - вопрос,
"answers" - список вариантов ответа, "correct_answer" - правильный ответ
